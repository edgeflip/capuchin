{% extends "base.html" %}

{% block title %}Audience{% endblock %}

{% block head %}
<script type="text/javascript">
    $(document).ready(function(){
        $(document).pjax(".pager", "#records", {push:false, type:"POST"});
    });
</script>
{% endblock %}


{% block content %}
{% from "widgets/bucket.html" import bucket %}
<div class="row buckets">
    <div class="col-md-3">
        <div class="thumbnail">
            {{ bucket("Audience", "Supporters", 234234, 234, "#", "Grow") }}
        </div>
    </div>
    <div class="col-md-3">
        <div class="thumbnail">
            {{ bucket("Engagement", "Engaged Supporters", 23423, 232, "#", "Boost") }}
        </div>
    </div>
    <div class="col-md-3">
        <div class="thumbnail">
            {{ bucket("Impact", "Actions this week", 19898, 5, "#", "Discover") }}
        </div>
    </div>
    <div class="col-md-3">
        <div class="thumbnail buzz">
            {{ bucket("Buzz", "Actions this week", 19898, 5, "#", "Discover") }}
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-9">
        <h3>Segments <a href="{{ url_for('.create') }}" class="btn btn-success">Create</a></h3>
        {{segments.render(q={"name":{"$ne":None}})|safe}}
        <div id="records">
            <h3>Your Audience</h3>
            {% include "audience/records.html" %}
        </div>
    </div>
    <div class="col-md-3">
        {% from "widgets/bucket.html" import bucket %}
        <div class="thumbnail">
            {{ bucket("Smart Segment", "members", 123123, 2, "#", "Create") }}
        </div>
        <div class="thumbnail">
            {{ bucket("Smart Segment #2", "members", 4996, 4.78, "#", "Create") }}
        </div>
    </div>
</div>
{% endblock %}
